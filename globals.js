var fenceRadius = 0.1; //Set geofence radius to 100m
var fenceSides = 100; //We're not technically using fences here, but a polygon with this many sides
var center = [-80.987623, 35.123127] //Center point; update this to adjust where the map starts out

//Add any additional geofences to this list
var geofences =
[
  {
    "name": "Krislyn Woods X Seascape Ln",
    "lat" : 35.123497,
    "lng" : -80.986676
  },
  {
    "name": "Krislyn Woods X Sam Neely",
    "lat" : 35.125690,
    "lng" : -80.987855
  },
  {
    "name": "Sam Neely X Steele Creek Rd",
    "lat" : 35.125870,
    "lng" :  -80.980543
  },
  {
    "name": "Steele Creed Rd X Sledge Rd",
    "lat" : 35.116106,
    "lng" : -80.986875
  },
  {
    "name": "Steele Creek Rd X Steelecroft Pky",
    "lat" : 35.104262,
    "lng" : -80.989116
  }
  //Add more here...
];

//DO NOT MODIFY ANYTHING FROM BELOW
var incomingPolyline = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "time": "2018-12-01T12:47:20.115Z",
                "coordTimes": [
                    "2018-12-01T12:47:20.115Z",
                    "2018-12-01T12:48:27.865Z",
                    "2018-12-01T12:49:29.840Z",
                    "2018-12-01T12:51:10.102Z",
                    "2018-12-01T12:52:32.954Z",
                    "2018-12-01T12:53:41.060Z",
                    "2018-12-01T12:54:42.936Z",
                    "2018-12-01T19:47:43.560Z",
                    "2018-12-01T19:49:03.000Z",
                    "2018-12-01T19:50:03.689Z",
                    "2018-12-01T19:51:39.476Z",
                    "2018-12-01T19:51:56.809Z",
                    "2018-12-01T19:52:04.000Z",
                    "2018-12-01T19:52:11.000Z",
                    "2018-12-01T19:52:08.797Z",
                    "2018-12-01T19:52:18.000Z",
                    "2018-12-01T19:52:25.000Z",
                    "2018-12-01T19:52:22.857Z",
                    "2018-12-01T19:52:32.000Z",
                    "2018-12-01T19:52:39.000Z",
                    "2018-12-01T19:52:36.796Z",
                    "2018-12-01T19:52:46.000Z",
                    "2018-12-01T19:52:53.000Z",
                    "2018-12-01T19:53:00.000Z",
                    "2018-12-01T19:53:01.408Z",
                    "2018-12-01T19:53:12.000Z",
                    "2018-12-01T19:53:19.000Z",
                    "2018-12-01T19:53:16.815Z",
                    "2018-12-01T19:53:27.000Z",
                    "2018-12-01T19:53:34.000Z",
                    "2018-12-01T19:53:41.000Z",
                    "2018-12-01T19:53:48.000Z",
                    "2018-12-01T19:53:55.000Z",
                    "2018-12-01T19:54:02.000Z",
                    "2018-12-01T19:54:07.749Z",
                    "2018-12-01T19:54:15.000Z",
                    "2018-12-01T19:54:22.000Z",
                    "2018-12-01T19:54:29.000Z",
                    "2018-12-01T19:54:36.000Z",
                    "2018-12-01T19:54:43.000Z",
                    "2018-12-01T19:54:50.000Z",
                    "2018-12-01T19:54:57.000Z",
                    "2018-12-01T19:55:04.000Z",
                    "2018-12-01T19:55:08.748Z",
                    "2018-12-01T19:55:18.000Z",
                    "2018-12-01T19:55:25.000Z",
                    "2018-12-01T19:55:32.000Z",
                    "2018-12-01T19:55:39.000Z",
                    "2018-12-01T19:55:46.000Z",
                    "2018-12-01T19:55:53.000Z",
                    "2018-12-01T19:55:58.758Z",
                    "2018-12-01T19:56:06.000Z",
                    "2018-12-01T19:56:13.000Z",
                    "2018-12-01T19:56:20.000Z",
                    "2018-12-01T19:56:27.000Z",
                    "2018-12-01T19:56:34.000Z",
                    "2018-12-01T19:56:41.000Z",
                    "2018-12-01T19:56:48.000Z",
                    "2018-12-01T19:56:53.787Z",
                    "2018-12-01T19:57:01.000Z",
                    "2018-12-01T19:57:08.000Z",
                    "2018-12-01T19:57:15.000Z",
                    "2018-12-01T19:57:22.000Z",
                    "2018-12-01T19:57:29.000Z",
                    "2018-12-01T19:57:34.751Z",
                    "2018-12-01T19:57:42.000Z",
                    "2018-12-01T19:57:49.000Z",
                    "2018-12-01T19:57:56.000Z",
                    "2018-12-01T19:58:03.000Z",
                    "2018-12-01T19:58:10.000Z",
                    "2018-12-01T19:58:17.000Z",
                    "2018-12-01T19:58:24.000Z",
                    "2018-12-01T19:58:31.000Z",
                    "2018-12-01T19:58:36.700Z",
                    "2018-12-01T19:58:44.000Z",
                    "2018-12-01T19:58:51.000Z",
                    "2018-12-01T19:58:58.000Z",
                    "2018-12-01T20:02:50.726Z",
                    "2018-12-01T20:03:02.000Z",
                    "2018-12-01T20:03:09.000Z",
                    "2018-12-01T20:03:16.000Z",
                    "2018-12-01T20:03:23.000Z",
                    "2018-12-01T20:03:30.000Z",
                    "2018-12-01T20:03:37.000Z",
                    "2018-12-01T20:03:44.000Z",
                    "2018-12-01T20:03:49.791Z",
                    "2018-12-01T20:03:57.000Z",
                    "2018-12-01T20:04:04.000Z",
                    "2018-12-01T20:04:11.000Z",
                    "2018-12-01T20:04:18.000Z",
                    "2018-12-01T20:04:25.000Z",
                    "2018-12-01T20:04:32.000Z",
                    "2018-12-01T20:04:39.000Z",
                    "2018-12-01T20:04:46.000Z",
                    "2018-12-01T20:04:53.000Z",
                    "2018-12-01T20:05:00.000Z",
                    "2018-12-01T20:05:07.000Z",
                    "2018-12-01T20:05:14.000Z",
                    "2018-12-01T20:05:21.000Z",
                    "2018-12-01T20:05:28.000Z",
                    "2018-12-01T20:05:35.000Z",
                    "2018-12-01T20:05:42.000Z",
                    "2018-12-01T20:05:49.000Z",
                    "2018-12-01T20:05:56.000Z",
                    "2018-12-01T20:06:03.000Z",
                    "2018-12-01T20:06:10.000Z",
                    "2018-12-01T20:06:17.000Z",
                    "2018-12-01T20:06:24.000Z",
                    "2018-12-01T20:06:32.000Z",
                    "2018-12-01T20:06:41.000Z",
                    "2018-12-01T20:06:48.000Z",
                    "2018-12-01T20:06:56.000Z",
                    "2018-12-01T20:07:03.000Z",
                    "2018-12-01T20:07:09.100Z",
                    "2018-12-01T20:07:19.000Z",
                    "2018-12-01T20:07:26.000Z",
                    "2018-12-01T20:07:30.847Z",
                    "2018-12-01T20:07:33.000Z",
                    "2018-12-01T20:07:41.000Z",
                    "2018-12-01T20:07:45.873Z",
                    "2018-12-01T20:07:48.000Z",
                    "2018-12-01T20:07:45.873Z",
                    "2018-12-01T20:08:02.000Z",
                    "2018-12-01T20:08:09.000Z"
                ]
            },
            "geometry": {
                "type": "LineString",
                "coordinates": [
                    [
                        -80.9876493,
                        35.1231585
                    ],
                    [
                        -80.9876401,
                        35.1231267
                    ],
                    [
                        -80.98763,
                        35.1231282
                    ],
                    [
                        -80.9876286,
                        35.1231339
                    ],
                    [
                        -80.9876373,
                        35.1231192
                    ],
                    [
                        -80.9875868,
                        35.1230759
                    ],
                    [
                        -80.9876323,
                        35.1231417
                    ],
                    [
                        -80.98749007,
                        35.12304282,
                        157
                    ],
                    [
                        -80.98537405,
                        35.12609624,
                        175
                    ],
                    [
                        -80.98154071,
                        35.12240104,
                        168
                    ],
                    [
                        -80.9851306,
                        35.1184902
                    ],
                    [
                        -80.98547891,
                        35.1190088,
                        170
                    ],
                    [
                        -80.98528162,
                        35.11941141,
                        164
                    ],
                    [
                        -80.98541526,
                        35.11968977,
                        149
                    ],
                    [
                        -80.9850396,
                        35.1197738
                    ],
                    [
                        -80.98595271,
                        35.12008043,
                        161
                    ],
                    [
                        -80.98594303,
                        35.12069822,
                        179
                    ],
                    [
                        -80.9859284,
                        35.1204672
                    ],
                    [
                        -80.98616855,
                        35.12131222,
                        183
                    ],
                    [
                        -80.98644587,
                        35.12190288,
                        177
                    ],
                    [
                        -80.9866679,
                        35.1218051
                    ],
                    [
                        -80.9868051,
                        35.12247493,
                        176
                    ],
                    [
                        -80.98716668,
                        35.12295764,
                        175
                    ],
                    [
                        -80.98687956,
                        35.1232863,
                        179
                    ],
                    [
                        -80.9868228,
                        35.1237117
                    ],
                    [
                        -80.9870026,
                        35.1239414,
                        169
                    ],
                    [
                        -80.9873565,
                        35.12467395,
                        168
                    ],
                    [
                        -80.9875173,
                        35.1244132,
                        167.5
                    ],
                    [
                        -80.98762415,
                        35.12552714,
                        166
                    ],
                    [
                        -80.98757944,
                        35.12579383,
                        167
                    ],
                    [
                        -80.98682214,
                        35.12598734,
                        164
                    ],
                    [
                        -80.98571907,
                        35.12607897,
                        163
                    ],
                    [
                        -80.98433288,
                        35.12603144,
                        167
                    ],
                    [
                        -80.9829239,
                        35.12598572,
                        169
                    ],
                    [
                        -80.98181188,
                        35.12593095,
                        171
                    ],
                    [
                        -80.98095368,
                        35.12572998,
                        174
                    ],
                    [
                        -80.98079563,
                        35.1254049,
                        164
                    ],
                    [
                        -80.98099213,
                        35.12447376,
                        169
                    ],
                    [
                        -80.98124283,
                        35.12335263,
                        168
                    ],
                    [
                        -80.98160668,
                        35.12204549,
                        158
                    ],
                    [
                        -80.98210248,
                        35.12080703,
                        156
                    ],
                    [
                        -80.98276558,
                        35.11971251,
                        161
                    ],
                    [
                        -80.98375951,
                        35.11876786,
                        158
                    ],
                    [
                        -80.9851313,
                        35.1183921
                    ],
                    [
                        -80.98604894,
                        35.11688771,
                        127
                    ],
                    [
                        -80.98685786,
                        35.11592838,
                        147
                    ],
                    [
                        -80.98712144,
                        35.11480589,
                        140
                    ],
                    [
                        -80.98719375,
                        35.11338204,
                        144
                    ],
                    [
                        -80.98742192,
                        35.11208419,
                        146
                    ],
                    [
                        -80.98761441,
                        35.11088993,
                        151
                    ],
                    [
                        -80.98783605,
                        35.10984957,
                        148
                    ],
                    [
                        -80.98806962,
                        35.1084516,
                        147
                    ],
                    [
                        -80.98840913,
                        35.10720129,
                        145
                    ],
                    [
                        -80.98881346,
                        35.10602036,
                        158
                    ],
                    [
                        -80.98915854,
                        35.10509527,
                        142
                    ],
                    [
                        -80.98915556,
                        35.10451747,
                        147
                    ],
                    [
                        -80.98903952,
                        35.10427364,
                        152
                    ],
                    [
                        -80.98861023,
                        35.10425771,
                        153
                    ],
                    [
                        -80.98837056,
                        35.10441733,
                        159
                    ],
                    [
                        -80.98813402,
                        35.10443062,
                        159
                    ],
                    [
                        -80.98799457,
                        35.10452033,
                        161
                    ],
                    [
                        -80.98794937,
                        35.10455319,
                        161
                    ],
                    [
                        -80.98791416,
                        35.10456486,
                        161
                    ],
                    [
                        -80.98782157,
                        35.10460926,
                        155
                    ],
                    [
                        -80.98752064,
                        35.10475283,
                        156
                    ],
                    [
                        -80.9873537,
                        35.10486873,
                        154
                    ],
                    [
                        -80.98716962,
                        35.10503822,
                        154
                    ],
                    [
                        -80.98680204,
                        35.10514774,
                        154
                    ],
                    [
                        -80.98638034,
                        35.10540311,
                        151
                    ],
                    [
                        -80.98616914,
                        35.10545774,
                        154
                    ],
                    [
                        -80.98601736,
                        35.10552523,
                        154
                    ],
                    [
                        -80.98581116,
                        35.10531767,
                        154
                    ],
                    [
                        -80.98555009,
                        35.10527941,
                        151
                    ],
                    [
                        -80.98533214,
                        35.10528636,
                        150
                    ],
                    [
                        -80.98526355,
                        35.10513547,
                        153
                    ],
                    [
                        -80.98535534,
                        35.10490736,
                        153
                    ],
                    [
                        -80.98537346,
                        35.1048768,
                        156
                    ],
                    [
                        -80.9854544,
                        35.1048143,
                        154.8000030517578
                    ],
                    [
                        -80.98543597,
                        35.10470604,
                        155
                    ],
                    [
                        -80.98540954,
                        35.10474825,
                        154
                    ],
                    [
                        -80.98537647,
                        35.10474399,
                        158
                    ],
                    [
                        -80.98529348,
                        35.10490617,
                        152
                    ],
                    [
                        -80.98530482,
                        35.10535319,
                        153
                    ],
                    [
                        -80.98547951,
                        35.10562511,
                        153
                    ],
                    [
                        -80.98566961,
                        35.1056612,
                        159
                    ],
                    [
                        -80.98582993,
                        35.10552809,
                        158
                    ],
                    [
                        -80.98601516,
                        35.10542861,
                        160
                    ],
                    [
                        -80.98634313,
                        35.10537286,
                        154
                    ],
                    [
                        -80.98675102,
                        35.1051744,
                        160
                    ],
                    [
                        -80.98702739,
                        35.10498785,
                        170
                    ],
                    [
                        -80.98725115,
                        35.10488668,
                        164
                    ],
                    [
                        -80.98741433,
                        35.10476788,
                        165
                    ],
                    [
                        -80.98769266,
                        35.10468677,
                        157
                    ],
                    [
                        -80.98798689,
                        35.10448474,
                        165
                    ],
                    [
                        -80.98826033,
                        35.1042775,
                        167
                    ],
                    [
                        -80.98871918,
                        35.10429496,
                        163
                    ],
                    [
                        -80.98886892,
                        35.10436078,
                        164
                    ],
                    [
                        -80.98895307,
                        35.10487579,
                        155
                    ],
                    [
                        -80.98863405,
                        35.10594409,
                        156
                    ],
                    [
                        -80.98833908,
                        35.10708289,
                        156
                    ],
                    [
                        -80.98798283,
                        35.10831783,
                        156
                    ],
                    [
                        -80.98780526,
                        35.10951957,
                        154
                    ],
                    [
                        -80.98756943,
                        35.11076825,
                        160
                    ],
                    [
                        -80.98734395,
                        35.11193445,
                        162
                    ],
                    [
                        -80.98717919,
                        35.11320355,
                        163
                    ],
                    [
                        -80.98698856,
                        35.11451815,
                        163
                    ],
                    [
                        -80.98692064,
                        35.11576741,
                        164
                    ],
                    [
                        -80.98621346,
                        35.11669327,
                        165
                    ],
                    [
                        -80.98498378,
                        35.11757706,
                        181
                    ],
                    [
                        -80.98468808,
                        35.11799576,
                        158
                    ],
                    [
                        -80.9846213,
                        35.11811626,
                        155
                    ],
                    [
                        -80.98522133,
                        35.11857126,
                        158
                    ],
                    [
                        -80.98532105,
                        35.11919845,
                        157
                    ],
                    [
                        -80.985152,
                        35.1196865
                    ],
                    [
                        -80.98597194,
                        35.12013138,
                        158
                    ],
                    [
                        -80.98604931,
                        35.12077064,
                        164
                    ],
                    [
                        -80.9865597,
                        35.1211051
                    ],
                    [
                        -80.98634696,
                        35.12140699,
                        165
                    ],
                    [
                        -80.98660403,
                        35.12205834,
                        168
                    ],
                    [
                        -80.9870288,
                        35.1226108
                    ],
                    [
                        -80.98690048,
                        35.12267807,
                        173
                    ],
                    [
                        -80.9870288,
                        35.1226108
                    ],
                    [
                        -80.9874194,
                        35.12313418,
                        171
                    ],
                    [
                        -80.9875698,
                        35.12315138,
                        148
                    ]
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "test2",
                "time": "2018-12-01T20:02:50.726Z"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -80.9854544,
                    35.1048143,
                    154.8000030517578
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "test",
                "time": "2018-12-01T19:51:39.476Z"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -80.9851306,
                    35.1184902
                ]
            }
        }
    ]
};
